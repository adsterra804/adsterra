<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auto Refresh and Link Loop</title>
  <script>
    // Function to shuffle an array randomly
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
    // Function to refresh the page at a fixed interval
    function refreshPage() {
      var refreshInterval = 250000;
      setInterval(function () {
        location.reload();
      }, refreshInterval);
    }
    // Function to perform the link loop
    function executeLoop() {
      var links = [
        '//www.revenuecpmgate.com/sw478sdz0?key=6eb37cd6ed92294b16a537a5a09bc8b0',
        '//www.revenuecpmgate.com/zsae2g1x?key=0de0d9191b10fb565dcc56511baf81c2',
        '//www.revenuecpmgate.com/zfqe3jinh6?key=bfb3ca6640e70fd0f477bf45738c3126',
        '//www.revenuecpmgate.com/rbb74sk4?key=749ae73b28a34736beb59a0924f02a54',
        '//www.revenuecpmgate.com/fj0tfjp1e?key=4fd130aa5eda43edad2db7def0cef8a2',
        '//www.revenuecpmgate.com/wq5vqj7p9f?key=b127e807c84608196911c49f091a943e',
      ];
      // Shuffle the array randomly
      shuffleArray(links);
      var currentIndex = 0;
      function openLink() {
        var link = links[currentIndex];
        // Display the link in the modal
        openModalWithLink(link);
        
        var interval = Math.floor(Math.random() * (30000 - 20000 + 1) + 20000);
        // Close the modal after the specified interval
        setTimeout(function () {
          closeModal();
          // Move to the next link
          currentIndex = (currentIndex + 1) % links.length;
          // Call openLink again with the updated index
          openLink();
        }, interval);
      }
      // Initial execution
      openLink();
    }
    // Function to open the modal with a given link
    function openModalWithLink(link) {
      document.getElementById('modalIframe').src = link;
      // Explicitly load the iframe after setting the source
      document.getElementById('modalIframe').onload = function () {
        document.getElementById('myModal').style.display = 'block';
      };
    }
    // Function to close the modal
    function closeModal() {
      document.getElementById('myModal').style.display = 'none';
    }
    // Initial execution
    window.onload = function () {
      refreshPage(); // Start the page refresh
      executeLoop(); // Start the link loop
    };
  </script>
</head>
<!-- The Modal -->
<div class="modal" id="myModal" style="display: none;">
  <div class="modal-content">
    <span onclick="closeModal()" style="cursor: pointer; float: right;">Ã—</span>
    <!-- Content of the modal -->
    <iframe id="modalIframe" src="" style="border: none; height: 400px; width: 100%;"></iframe>
  </div>
</div>
</html>
